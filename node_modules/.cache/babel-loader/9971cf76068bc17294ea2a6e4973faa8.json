{"ast":null,"code":"import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createTextVNode as _createTextVNode, normalizeStyle as _normalizeStyle, createCommentVNode as _createCommentVNode, vShow as _vShow, withDirectives as _withDirectives, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-dcc68bde\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  width: \"100%\",\n  height: \"100%\"\n};\nconst _hoisted_2 = [\"width\", \"height\"];\n\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"defs\", null, [/*#__PURE__*/_createElementVNode(\"linearGradient\", {\n  id: \"oceanGradient\",\n  x1: \"0%\",\n  y1: \"0%\",\n  x2: \"100%\",\n  y2: \"0%\"\n}, [/*#__PURE__*/_createElementVNode(\"stop\", {\n  offset: \"0%\",\n  style: {\n    \"stop-color\": \"rgb(0,0,27)\",\n    \"stop-opacity\": \"1\"\n  }\n}), /*#__PURE__*/_createElementVNode(\"stop\", {\n  offset: \"100%\",\n  style: {\n    \"stop-color\": \"rgb(51,122,183)\",\n    \"stop-opacity\": \"1\"\n  }\n})])], -1));\n\nconst _hoisted_4 = [\"d\", \"id\", \"onMouseenter\"];\nconst _hoisted_5 = [\"cx\", \"cy\", \"fill\", \"onMouseenter\", \"onDblclick\"];\n\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"strong\", null, \"Name:\", -1));\n\nconst _hoisted_7 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1));\n\nconst _hoisted_8 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"strong\", null, \"Country:\", -1));\n\nconst _hoisted_9 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1));\n\nconst _hoisted_10 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"strong\", null, \"Location:\", -1));\n\nconst _hoisted_11 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1));\n\nconst _hoisted_12 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"strong\", null, \"Bleaching Severity:\", -1));\n\nconst _hoisted_13 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1));\n\nconst _hoisted_14 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  style: {\n    \"text-align\": \"right\"\n  }\n}, [/*#__PURE__*/_createElementVNode(\"small\", null, \"double click for info\")], -1));\n\nconst _hoisted_15 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"strong\", {\n  style: {\n    \"font-size\": \"30px\"\n  }\n}, \"Information\", -1));\n\nconst _hoisted_16 = /*#__PURE__*/_createTextVNode();\n\nconst _hoisted_17 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1));\n\nconst _hoisted_18 = /*#__PURE__*/_createTextVNode();\n\nconst _hoisted_19 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1));\n\nconst _hoisted_20 = {\n  style: {\n    \"width\": \"100%\"\n  }\n};\n\nconst _hoisted_21 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"td\", null, [/*#__PURE__*/_createElementVNode(\"strong\", null, \"Bleaching Severity: \")], -1));\n\nconst _hoisted_22 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"td\", null, [/*#__PURE__*/_createElementVNode(\"strong\", null, \"Country: \")], -1));\n\nconst _hoisted_23 = /*#__PURE__*/_createTextVNode();\n\nconst _hoisted_24 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"td\", null, [/*#__PURE__*/_createElementVNode(\"strong\", null, \"Location: \")], -1));\n\nconst _hoisted_25 = /*#__PURE__*/_createTextVNode();\n\nconst _hoisted_26 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"td\", null, [/*#__PURE__*/_createElementVNode(\"strong\", null, \"Coordinates: \")], -1));\n\nconst _hoisted_27 = /*#__PURE__*/_createTextVNode();\n\nconst _hoisted_28 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"td\", null, [/*#__PURE__*/_createElementVNode(\"strong\", null, \"Mortality: \")], -1));\n\nconst _hoisted_29 = /*#__PURE__*/_createTextVNode();\n\nconst _hoisted_30 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"td\", null, [/*#__PURE__*/_createElementVNode(\"strong\", null, \"Recovery: \")], -1));\n\nconst _hoisted_31 = /*#__PURE__*/_createTextVNode();\n\nconst _hoisted_32 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"td\", null, [/*#__PURE__*/_createElementVNode(\"strong\", null, \"Coral Family: \")], -1));\n\nconst _hoisted_33 = /*#__PURE__*/_createTextVNode();\n\nconst _hoisted_34 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"td\", null, [/*#__PURE__*/_createElementVNode(\"strong\", null, \"Coral Species: \")], -1));\n\nconst _hoisted_35 = /*#__PURE__*/_createTextVNode();\n\nconst _hoisted_36 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"td\", null, [/*#__PURE__*/_createElementVNode(\"strong\", null, \"Survey Type: \")], -1));\n\nconst _hoisted_37 = /*#__PURE__*/_createTextVNode();\n\nconst _hoisted_38 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"td\", null, [/*#__PURE__*/_createElementVNode(\"strong\", null, \"Water Temperature: \")], -1));\n\nconst _hoisted_39 = /*#__PURE__*/_createTextVNode();\n\nconst _hoisted_40 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"td\", null, [/*#__PURE__*/_createElementVNode(\"strong\", null, \"Remarks: \")], -1));\n\nconst _hoisted_41 = /*#__PURE__*/_createTextVNode();\n\nconst _hoisted_42 = {\n  style: {\n    \"text-align\": \"right\",\n    \"margin\": \"20px\"\n  }\n};\n\nconst _hoisted_43 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1));\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"h1\", null, _toDisplayString($props.msg), 1), _createElementVNode(\"h2\", null, _toDisplayString($data.title_msg), 1), (_openBlock(), _createElementBlock(\"svg\", {\n    id: \"globe\",\n    width: $data.svg_width,\n    height: $data.svg_height,\n    fill: \"url(#oceanGradient)\"\n  }, [_hoisted_3, _createElementVNode(\"g\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.paths, (data, index) => {\n    return _openBlock(), _createElementBlock(\"path\", {\n      key: index,\n      d: data.path,\n      id: data.id,\n      stroke: \"#fff\",\n      fill: \"url(#oceanGradient)\",\n      \"stroke-width\": \"1.0\",\n      onMouseenter: event => {\n        $data.hovered = data;\n        $options.mouseOverHover(event);\n      },\n      onMouseleave: _cache[0] || (_cache[0] = () => {\n        $data.hovered = null;\n      })\n    }, null, 40, _hoisted_4);\n  }), 128)), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.points, (item, index) => {\n    return _openBlock(), _createElementBlock(\"circle\", {\n      key: index,\n      r: \"7\",\n      cx: item.x,\n      cy: item.y,\n      fill: $options.pointerColor(item.severity),\n      stroke: \"black\",\n      onMouseenter: () => {\n        $data.pointerHover = item;\n      },\n      onMouseleave: _cache[1] || (_cache[1] = () => {\n        $data.pointerHover = null;\n      }),\n      onDblclick: () => {\n        $data.showBleachInfo = true;\n        $data.pointDblClick = item;\n      }\n    }, null, 40, _hoisted_5);\n  }), 128))])], 8, _hoisted_2)), $data.hovered ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 0,\n    class: \"hovered\",\n    style: _normalizeStyle({\n      top: `${$data.hovered.y + 20}px`,\n      //x-axis for drawing\n      left: `${$data.hovered.x}px` //y-axis for drawing\n\n    })\n  }, [_hoisted_6, _createTextVNode(\" \" + _toDisplayString($data.hovered.data.name) + \" \", 1), _hoisted_7], 4)) : _createCommentVNode(\"\", true), $data.pointerHover ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 1,\n    id: \"pointHover\",\n    class: \"hovered\",\n    style: _normalizeStyle({\n      top: `${$data.pointerHover.y + 20}px`,\n      left: `${$data.pointerHover.x}px`\n    })\n  }, [_hoisted_8, _createTextVNode(\" \" + _toDisplayString($data.pointerHover.country) + \" \", 1), _hoisted_9, _hoisted_10, _createTextVNode(\" \" + _toDisplayString($data.pointerHover.location) + \" \", 1), _hoisted_11, _hoisted_12, _createTextVNode(\" \" + _toDisplayString($data.pointerHover.severity) + \" \", 1), _hoisted_13, _hoisted_14], 4)) : _createCommentVNode(\"\", true), $data.pointDblClick ? _withDirectives((_openBlock(), _createElementBlock(\"div\", {\n    key: 2,\n    class: \"circleDblClick\",\n    onDblclick: _cache[2] || (_cache[2] = $event => $data.showBleachInfo = false),\n    style: {\n      top: `20%`,\n      left: `80%`,\n      height: `100%`\n    }\n  }, [_createElementVNode(\"div\", {\n    style: _normalizeStyle({\n      'text-align': `left`,\n      margin: `10px`,\n      height: `${this.svg_height - 150}px`,\n      'overflow-x': `auto`,\n      'overflow-y': `auto`,\n      display: `block`\n    })\n  }, [_hoisted_15, _hoisted_16, _hoisted_17, _createElementVNode(\"small\", null, \"Date: \" + _toDisplayString(this.pointDblClick.date), 1), _hoisted_18, _hoisted_19, _createElementVNode(\"table\", _hoisted_20, [_createElementVNode(\"tr\", null, [_hoisted_21, _createElementVNode(\"td\", null, [_createTextVNode(_toDisplayString(this.pointDblClick.severity) + \" \", 1), _createElementVNode(\"div\", {\n    class: \"square\",\n    style: _normalizeStyle({\n      'background-color': $options.pointerColor(this.pointDblClick.severity)\n    })\n  }, null, 4)])]), _createElementVNode(\"tr\", null, [_hoisted_22, _hoisted_23, _createElementVNode(\"td\", null, _toDisplayString(this.pointDblClick.country), 1)]), _createElementVNode(\"tr\", null, [_hoisted_24, _hoisted_25, _createElementVNode(\"td\", null, _toDisplayString(this.pointDblClick.location), 1)]), _createElementVNode(\"tr\", null, [_hoisted_26, _hoisted_27, _createElementVNode(\"td\", null, _toDisplayString(this.pointDblClick.lat) + \", \" + _toDisplayString(this.pointDblClick.lon), 1)]), _createElementVNode(\"tr\", null, [_hoisted_28, _hoisted_29, _createElementVNode(\"td\", null, _toDisplayString(this.pointDblClick.mortality), 1)]), _createElementVNode(\"tr\", null, [_hoisted_30, _hoisted_31, _createElementVNode(\"td\", null, _toDisplayString(this.pointDblClick.recovery), 1)]), _createElementVNode(\"tr\", null, [_hoisted_32, _hoisted_33, _createElementVNode(\"td\", null, _toDisplayString(this.pointDblClick.coralFamily), 1)]), _createElementVNode(\"tr\", null, [_hoisted_34, _hoisted_35, _createElementVNode(\"td\", null, _toDisplayString(this.pointDblClick.coralSpecies), 1)]), _createElementVNode(\"tr\", null, [_hoisted_36, _hoisted_37, _createElementVNode(\"td\", null, _toDisplayString(this.pointDblClick.survey_type), 1)]), _createElementVNode(\"tr\", null, [_hoisted_38, _hoisted_39, _createElementVNode(\"td\", null, _toDisplayString(this.pointDblClick.water_temp), 1)]), _createElementVNode(\"tr\", null, [_hoisted_40, _hoisted_41, _createElementVNode(\"td\", null, _toDisplayString(this.pointDblClick.remarks), 1)])]), _createElementVNode(\"div\", _hoisted_42, [_createElementVNode(\"small\", null, \"Source: \" + _toDisplayString(this.pointDblClick.source), 1), _hoisted_43])], 4)], 544)), [[_vShow, $data.showBleachInfo]]) : _createCommentVNode(\"\", true)]);\n}","map":{"version":3,"mappings":"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","names":["width","height","_createElementVNode","id","x1","y1","x2","y2","offset","style","_createElementBlock","_toDisplayString","$props","$data","fill","_hoisted_3","_Fragment","_renderList","data","index","key","d","path","stroke","onMouseenter","event","$options","onMouseleave","item","r","cx","x","cy","y","severity","onDblclick","class","_hoisted_6","name","_hoisted_8","country","_hoisted_10","location","_hoisted_12","_hoisted_14","svg_height","_hoisted_15","_hoisted_17","pointDblClick","date","_hoisted_19","_hoisted_21","_hoisted_22","_hoisted_24","_hoisted_26","lat","lon","_hoisted_28","mortality","_hoisted_30","recovery","_hoisted_32","coralFamily","_hoisted_34","coralSpecies","_hoisted_36","survey_type","_hoisted_38","water_temp","_hoisted_40","remarks","source","_hoisted_43"],"sourceRoot":"","sources":["C:\\Users\\User\\Documents\\GitHub\\AIOT_Aquatic_Capstone\\vuefrontend\\src\\components\\CreateGlobe.vue"],"sourcesContent":["<template>\r\n  <div width=\"100%\" height=\"100%\">\r\n    <h1>{{msg}}</h1>\r\n    <h2> {{title_msg}}</h2>\r\n\r\n    <svg id=\"globe\" :width=\"svg_width\" :height=\"svg_height\" fill=\"url(#oceanGradient)\">\r\n      <defs>\r\n          <linearGradient id = \"oceanGradient\" x1 = \"0%\" y1 =\"0%\" x2=\"100%\" y2=\"0%\">\r\n              <stop offset=\"0%\" style=\"stop-color:rgb(0,0,27); stop-opacity:1\"/>\r\n              <stop offset=\"100%\" style=\"stop-color:rgb(51,122,183); stop-opacity:1\"/>\r\n          </linearGradient>\r\n      </defs>\r\n      <g>\r\n        <path v-for=\"(data, index) in paths\" :key=\"index\" :d=\"data.path\" :id='data.id' stroke=\"#fff\" fill=\"url(#oceanGradient)\" stroke-width=\"1.0\" \r\n            @mouseenter=\"(event) => {hovered = data; mouseOverHover(event);}\"  \r\n            @mouseleave=\"() => {hovered = null;}\"/>\r\n        \r\n        <circle v-for=\"(item, index) in points\" :key=\"index\" r=\"7\" :cx=\"item.x\" :cy=\"item.y\" :fill=\"pointerColor(item.severity)\" stroke=\"black\"\r\n          @mouseenter=\"() => {pointerHover = item;}\"\r\n          @mouseleave=\"() => {pointerHover = null;}\"\r\n          @dblclick=\"() => {showBleachInfo = true; pointDblClick = item; }\"/>\r\n      </g>\r\n    </svg>\r\n    <!--Hover for the countries-->\r\n    <div v-if=\"hovered\" class=\"hovered\" \r\n      :style = '{\r\n        top: `${hovered.y + 20}px`, //x-axis for drawing\r\n        left: `${hovered.x}px`, //y-axis for drawing\r\n      }'>\r\n        <strong>Name:</strong> {{hovered.data.name}} <br />\r\n    </div>\r\n    <!--Hover for the bleaching points-->\r\n    <div id=\"pointHover\" v-if=\"pointerHover\" class=\"hovered\"\r\n    :style = '{\r\n        top: `${pointerHover.y + 20}px`,\r\n        left: `${pointerHover.x}px`,\r\n      }'>\r\n        <strong>Country:</strong> {{pointerHover.country}} <br />\r\n        <strong>Location:</strong> {{pointerHover.location}} <br />\r\n        <strong>Bleaching Severity:</strong> {{pointerHover.severity}} <br />\r\n\r\n        <div style=\"text-align:right;\">\r\n          <small>double click for info</small>\r\n        </div>\r\n    </div>\r\n    <!--Show bleaching info section on double click and double click on info section to close-->\r\n    <div v-if=\"pointDblClick\" v-show=\"showBleachInfo\" class=\"circleDblClick\"\r\n    @dblclick=\"showBleachInfo = false\"\r\n    :style ='{\r\n      top: `20%`,\r\n      left: `80%`,\r\n      height: `100%`\r\n    }'>\r\n      <!-- aligning for scrolls in case of overflow -->\r\n      <div :style=\"{\r\n        'text-align': `left`,\r\n        margin: `10px`,\r\n        height: `${this.svg_height-150}px`,\r\n        'overflow-x': `auto`,\r\n        'overflow-y': `auto`,\r\n        display: `block`\r\n      }\">\r\n          <!--Header for information section-->\r\n          <strong style=\"font-size: 30px;\">Information</strong> <br/> \r\n          <small>Date: {{this.pointDblClick.date}} </small> <br/>\r\n          <!--Information Section-->\r\n          <table style=\"width:100%;\">\r\n            <tr><td><strong>Bleaching Severity: </strong></td> \r\n                <td>{{this.pointDblClick.severity}} \r\n                    <div class=\"square\" :style=\"{'background-color': pointerColor(this.pointDblClick.severity)}\"></div>\r\n                </td>\r\n            </tr>\r\n            <tr><td><strong>Country: </strong></td> <td>{{this.pointDblClick.country}}</td></tr>\r\n            <tr><td><strong>Location: </strong></td> <td>{{this.pointDblClick.location}}</td></tr>\r\n            <tr><td><strong>Coordinates: </strong></td> <td>{{this.pointDblClick.lat}}, {{this.pointDblClick.lon}}</td></tr>\r\n            <tr><td><strong>Mortality: </strong></td> <td>{{this.pointDblClick.mortality}}</td></tr>\r\n            <tr><td><strong>Recovery: </strong></td> <td>{{this.pointDblClick.recovery}}</td></tr>\r\n            <tr><td><strong>Coral Family: </strong></td> <td>{{this.pointDblClick.coralFamily}}</td></tr>\r\n            <tr><td><strong>Coral Species: </strong></td> <td>{{this.pointDblClick.coralSpecies}}</td></tr>\r\n            <tr><td><strong>Survey Type: </strong></td> <td>{{this.pointDblClick.survey_type}}</td></tr>\r\n            <tr><td><strong>Water Temperature: </strong></td> <td>{{this.pointDblClick.water_temp}}</td></tr>\r\n            <tr><td><strong>Remarks: </strong></td> <td>{{this.pointDblClick.remarks}}</td></tr>\r\n          </table>\r\n          <div style=\"text-align: right; margin: 20px;\">\r\n            <small>Source:  {{this.pointDblClick.source}} </small><br/>\r\n          </div>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport * as d3 from \"d3\";\r\nimport * as d3Collection from 'd3-collection';\r\n\r\nexport default ({\r\n  name: \"coralGlobe\",\r\n  props: {\r\n    msg: String,\r\n  },\r\n  data() {\r\n    return {\r\n        title_msg: \"Global Coral Bleaching Data Visualization\",\r\n        svg_height: 1000,\r\n        svg_width: 1500,\r\n        paths: [],\r\n        points: [],\r\n        hovered: null,\r\n        pointerHover: null,\r\n        pointDblClick: null,\r\n        showBleachInfo:false\r\n    };\r\n  },\r\n  created() {\r\n    this.fetchAndCreate();\r\n  },\r\n  methods: {\r\n    //Fetch and manipulate data for Map creation\r\n    async fetchAndCreate() {\r\n        Promise.all([d3.json(\"./CoralBleaching.json\"), d3.json(\"./world.geojson\")]).then(([coralData, mapData]) => {\r\n            let topoMapData = mapData.features;\r\n\r\n            let projection = d3.geoMercator().fitSize([this.svg_width, this.svg_height], mapData);\r\n            var geopath = d3.geoPath().projection(projection);\r\n\r\n\r\n            //Create paths to draw the map\r\n            this.paths = topoMapData.map(feature => {\r\n                //Map and projection\r\n                return {\r\n                  id: feature.id,\r\n                  name: feature.properties.name,\r\n                  path: geopath(feature)\r\n                }\r\n            })\r\n            \r\n            //Filter data for visualisation\r\n            coralData.forEach(feature => {\r\n              //Collect the points for the visualization (Javascript has latitude and longitude in opposite ways)\r\n              let pointProjection = projection([feature.lon, feature.lat]);\r\n              if (isNaN(pointProjection[0]) != true && isNaN(pointProjection[1]) != true) {\r\n                this.points.push(\r\n                  {\r\n                    id: feature.id,\r\n                    severity: feature.bleaching_severity.toLowerCase(),\r\n                    x: pointProjection[0],\r\n                    y: pointProjection[1],\r\n                    lat: feature.lat,\r\n                    lon: feature.lon,\r\n                    country: feature.country,\r\n                    location: feature.location,\r\n                    date: this.toMonthName(feature.month) + \" \" + feature.year,\r\n                    coralFamily: feature.coral_family,\r\n                    coralSpecies:feature.coral_species,\r\n                    mortality: feature.mortality,\r\n                    recovery: feature.recovery,\r\n                    survey_type: feature.survey_type,\r\n                    water_temp: feature.water_temperature,\r\n                    remarks: feature.remarks,\r\n                    source: feature.source\r\n                  }\r\n                )\r\n              }\r\n              else {\r\n                console.log(feature);\r\n              } \r\n            })\r\n        })\r\n\r\n    },\r\n    //Convert digits to month strings\r\n    toMonthName(num){\r\n      const date = new Date();\r\n      date.setMonth(num - 1);\r\n      return date.toLocaleString('en-US', {\r\n        month: 'long',\r\n      });\r\n    },\r\n    //Mouseover for the map\r\n    mouseOverHover(event) {\r\n      const currentData = this.hovered;\r\n      //Add in the x and y coordinates for current data\r\n      this.hovered = {\r\n        x: event.x,\r\n        y: event.y,\r\n        data: currentData\r\n      }\r\n    },\r\n    //Return appropriate color based on bleaching severity\r\n    pointerColor(severity) {\r\n      let colorScale = d3.scaleOrdinal()\r\n                        .domain([\"severity unknown\",\"no bleaching\",\"low\",\"medium\", \"high\"])\r\n                        .range([\"lightgray\", \"green\", \"yellow\", \"orange\", \"red\" ])\r\n      \r\n      return colorScale(severity);\r\n    },\r\n  },\r\n})\r\n\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n.hovered {\r\n  position: absolute;\r\n  padding: 5px 10px;\r\n  background-color: #fff;\r\n  box-shadow: 0 0 5px #cfcfcf;\r\n  transform: translate(-50%);\r\n  pointer-events: none;\r\n  line-height: 1.6;\r\n  width: 240px;\r\n}\r\n\r\n.circleDblClick {\r\n  position: absolute;\r\n  padding: 5px 10px;\r\n  background-color: #fff;\r\n  box-shadow: 0 0 5px #cfcfcf;\r\n  float:right;\r\n  line-height: 1.6;\r\n  width: 30%;\r\n}\r\n\r\npath:hover {\r\n  stroke-width: 2px;\r\n  fill: rgb(214, 214, 214);\r\n}\r\n\r\ncircle:hover {\r\n  stroke-width: 4px;\r\n  fill: rgb(99, 62, 200);\r\n}\r\n\r\n#pointHover {\r\n  text-align: left;\r\n}\r\n.square {\r\n  height: 50px;\r\n  width: 50px;\r\n  outline: 1px solid black;\r\n}\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}